<div class="chapters-list">
    <h2
        class="chapters-list-title"
        [ngStyle]="{
            color: fontColor
        }"
    >
        üìî {{ 'CHAPTERS.AVAILABLE_CHAPTERS' | translate }}
    </h2>

    <div
        *ngIf="chapters.length > 0; else noChapters"
        cdkDropList
        (cdkDropListDropped)="drop($event)"
    >
        <div
            *ngFor="let chapter of chapters; index as i"
            cdkDrag
            class="chapter-card"
        >
            <div class="chapter-card__header chapter-card-header">
                <div
                    class="chapter-card-header__name"
                    [ngStyle]="{
                        color: fontColor
                    }"
                >
                    <mat-icon class="option-icon" *appIfLoggedUser cdkDragHandle
                        >drag_indicator</mat-icon
                    >

                    <mat-icon class="option-icon" *appIfLoggedUser
                        >edit</mat-icon
                    >

                    {{ i + 1 }}. {{ chapter.name }}
                </div>
                <div class="chapter-card-header__desc">
                    {{ chapter.chapterDesc }}
                </div>
            </div>
            <div class="chapter-card-information-with-options">
                <div class="chapter-card__information">
                    <div class="chapter-card-information">
                        <span
                            class="chapter-card-information__header"
                            [ngStyle]="{
                                color: fontColor
                            }"
                            >üìÉ {{ 'CHAPTERS.PAGES_COUNT' | translate }}
                        </span>
                        <span class="chapter-card-information__info">{{
                            chapter.pagesIds?.length
                        }}</span>
                    </div>

                    <div
                        class="chapter-card-information"
                        *ngIf="chapter.createDate"
                    >
                        <span
                            class="chapter-card-information__header"
                            [ngStyle]="{
                                color: fontColor
                            }"
                            >üìÜ {{ 'CHAPTERS.CREATE_DATE' | translate }}
                        </span>
                        <span class="chapter-card-information__info">{{
                            chapter.createDate | date: 'dd/MM/yyyy'
                        }}</span>
                    </div>

                    <div class="chapter-card-information">
                        <span
                            class="chapter-card-information__header"
                            [ngStyle]="{
                                color: fontColor
                            }"
                        >
                            üåÑ {{ 'CHAPTERS.ACTION_TIME' | translate }}
                        </span>
                        <span class="chapter-card-information__info">{{
                            chapter.actionTime | nulled
                        }}</span>
                    </div>

                    <div class="chapter-card-information">
                        <span
                            class="chapter-card-information__header"
                            [ngStyle]="{
                                color: fontColor
                            }"
                        >
                            üè° {{ 'CHAPTERS.ACTION_PLACE' | translate }}
                        </span>
                        <span class="chapter-card-information__info">{{
                            chapter.actionPlace | nulled
                        }}</span>
                    </div>
                </div>
                <div class="options" *appIfLoggedUser>
                    <mat-icon
                        class="close-icon"
                        (click)="insertDeleteInfo()"
                        (dblclick)="deleteChapter(chapter.id)"
                        >close</mat-icon
                    >
                </div>
            </div>
        </div>
    </div>
</div>
<ng-template #noChapters>
    <span [ngStyle]="{ color: fontColor }" class="no-chapters-info">
        {{ 'CHAPTERS.NO_CHAPTERS_MSG' | translate }}
    </span>
</ng-template>

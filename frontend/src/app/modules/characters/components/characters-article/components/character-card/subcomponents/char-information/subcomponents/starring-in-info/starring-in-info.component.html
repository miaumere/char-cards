<div class="container">
    <table>
        <thead>
            <tr>
                <th></th>
                <th *ngFor="let mockItem of mock">
                    <div class="book-item" [title]="mockItem.book.name">
                        <app-book-icon
                            [book]="mockItem.book"
                            [size]="1"
                        ></app-book-icon>
                    </div>
                </th>
            </tr>
        </thead>
        <tr>
            <td class="chapters-title">Części</td>
            <td *ngFor="let mockItem of mock" class="item-cell">
                <svg
                    [attr.height]="
                        squareHeight * (mockItem.chapters.length + 2)
                    "
                    [attr.width]="squareHeight"
                >
                    <g *ngFor="let chapter of mockItem.chapters; index as i">
                        <rect
                            *ngIf="chapter.starringType !== null"
                            [attr.y]="setRectX(i)"
                            [attr.width]="squareHeight"
                            [attr.height]="squareHeight"
                            rx="2"
                            [attr.fill]="color"
                            [class]="
                                'square square--' +
                                StarringType[chapter.starringType]
                            "
                        />

                        <rect
                            *ngIf="chapter.starringType === null"
                            class="empty"
                            [attr.fill]="color"
                            [attr.y]="setRectX(i)"
                            [attr.width]="squareHeight"
                            [attr.height]="squareHeight"
                            rx="2"
                        ></rect>
                    </g>
                </svg>
            </td>
        </tr>
    </table>
</div>

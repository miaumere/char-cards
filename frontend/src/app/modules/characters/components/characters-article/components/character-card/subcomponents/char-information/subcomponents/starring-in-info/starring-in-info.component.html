<div class="container">
    <table>
        <thead>
            <tr>
                <th></th>
                <th *ngFor="let starringInItem of starringIn">
                    <div class="book-item" [title]="starringInItem.book.name">
                        <app-book-icon
                            [book]="starringInItem.book"
                            [size]="1.1"
                        ></app-book-icon>
                    </div>
                </th>
            </tr>
        </thead>
        <tr>
            <td class="chapters-title">{{ 'NAVBAR.CHAPTERS' | translate }}</td>
            <td *ngFor="let starringInItem of starringIn" class="item-cell">
                <svg
                    [attr.height]="
                        squareHeight * (starringInItem.chapters.length + 2)
                    "
                    [attr.width]="squareHeight"
                >
                    <g
                        *ngFor="
                            let chapter of starringInItem.chapters;
                            index as i
                        "
                    >
                        <rect
                            *ngIf="chapter.starringType !== null"
                            [attr.y]="setRectX(i)"
                            [attr.width]="squareHeight"
                            [attr.height]="squareHeight"
                            rx="3"
                            [attr.fill]="color"
                            [class]="'square square--' + chapter.starringType"
                        />

                        <rect
                            *ngIf="chapter.starringType === null"
                            class="empty"
                            [attr.fill]="color"
                            [attr.y]="setRectX(i)"
                            [attr.width]="squareHeight"
                            [attr.height]="squareHeight"
                            [attr.stroke]="color"
                            rx="3"
                        ></rect>
                    </g>
                </svg>
            </td>
        </tr>
    </table>
</div>

<article class="char-menu" *ngIf="charList && charList.length > 0">
  <form [formGroup]="searchForm" class="search-form">
    <span class="search-form__form-field">
      <mat-icon>search</mat-icon>
      <mat-form-field>
        <mat-label>{{'CHARS_PANEL.SEARCH_CHAR' | translate}}</mat-label>
        <input matInput formControlName="char" (input)="searchCharacter()">
      </mat-form-field>
    </span>


    <button mat-raised-button [color]="isMain ? 'accent' : 'basic'"
      (click)="isMain ? isMain = false : isMain = true; searchCharacter()">
      <img src="../../../../../assets/svg/rdest.svg" class="rdest">
      {{'enum.charType.MAIN' | translate}}
    </button>

    <button mat-raised-button [color]="isSide ? 'accent' : 'basic'"
      (click)="isSide ? isSide = false : isSide = true; searchCharacter()">
      <img src="../../../../../assets/svg/rdest.svg" class="rdest--side">
      {{'enum.charType.SIDE' | translate}}
    </button>

    <button mat-raised-button [color]="isBackground ? 'accent' : 'basic'"
      (click)="isBackground ? isBackground = false : isBackground = true; searchCharacter()">
      {{'enum.charType.BACKGROUND' | translate}}

    </button>
  </form>

  <div class="characters">
    <ng-container *ngFor="let character of filteredChars; index as i">
      <a class="character" [routerLink]="['/char-cards', character.id]" routerLinkActive="router-link-active">
        <img class="character__profile-pic" *ngIf="character.profilePic"
          [src]="'data:image/' + character.profilePic?.extension + ';base64, ' + character.profilePic.image | sanitizer">
        <div *ngIf="!character.profilePic" class="character__profile-pic character__profile-pic--empty">
        </div>
        <span class="character__name">
          <span *ngIf="character.characterType === 'MAIN'"> <img src="../../../../../assets/svg/rdest.svg"
              class="rdest">
          </span>
          <span *ngIf="character.characterType === 'SIDE'"> <img src="../../../../../assets/svg/rdest.svg"
              class="rdest rdest--side">
          </span>
          {{ character.fullName }}
        </span>
      </a>
    </ng-container>

    <ng-container *ngIf="filteredChars.length === 0">
      {{'CHARS_PANEL.NO_CHARACTERS' | translate}}
    </ng-container>
  </div>


</article>

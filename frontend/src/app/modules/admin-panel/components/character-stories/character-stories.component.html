<div class="stories">
  <div class="stories-box">
    <div class="stories-box--new-story">

      <form class="story-form" [formGroup]="newStoryForm">
        <mat-form-field class="story-form__input">
          <mat-label> {{ 'EDIT_STORIES.TITLE' | translate }}
          </mat-label>
          <input matInput required spellcheck="false" formControlName="title">
        </mat-form-field>

        <mat-form-field class="story-form__input">
          <mat-label> {{ 'EDIT_STORIES.DESC' | translate }}
          </mat-label>
          <textarea matInput required spellcheck="false" formControlName="desc"></textarea>
        </mat-form-field>

        <button mat-raised-button color="accent" (click)="createNewStory()" [disabled]='newStoryForm.invalid'>
          <mat-icon>library_add</mat-icon>
          {{ 'SHARED.SAVE_CHANGES' | translate }}
        </button>

      </form>
    </div>


    <div *ngIf="stories.length > 0" class="boundary" cdkDropList (cdkDropListDropped)="drop($event)">

      <div *ngFor="let story of stories; index as i" class="box" cdkDragBoundary=".boundary" cdkDrag>
        <div class="boundary__placeholder" *cdkDragPlaceholder></div>

        <div class="buttons-box">
          <button mat-mini-fab color="warn" (click)="insertDeleteInfo()" (dblclick)="deleteStory(stories[i].id)">
            <mat-icon>delete</mat-icon>
          </button>

          <button mat-mini-fab (click)="openEditModal(stories[i].title, stories[i].story, stories[i].id)">
            <mat-icon>edit</mat-icon>
          </button>
        </div>
        <div class="story-box">
          <span class="story-box__title" #title>{{stories[i].title}}</span>
          <span class="story-box__desc" #story>{{stories[i].story}}</span>
        </div>
      </div>
    </div>
    <div *ngIf="stories.length === 0">
      {{ 'EDIT_STORIES.NO_STORIES' | translate }}
    </div>
  </div>
</div>
